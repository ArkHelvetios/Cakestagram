(()=>{"use strict";const e=(e=0,t=100)=>{let c=Math.floor(Math.random()*(t-e+1)+e);return e<0||t<0||e==t?-1:(e>t&&([e,t]=[t,e]),c)},t=e=>"Escape"===e.key||"Esc"===e.key,c=["Кошка вполне может быть лучшим другом человека, но никогда не опустится до того, чтобы это признать.","Говорят, что кошки трусливы, злы и жестоки. Это верно, и у них еще много других достоинств.","Женщины и кошки не идут, когда их зовут, и приходят, когда их не звали.","Я долго изучал философов и долго изучал кошек. Кошки бесконечно мудрее.","Люди, которые не выносят кошек, в своей следующей жизни будут мышами.","Кошки созданы, чтобы показать нам: не все в природе имеет назначение.","Кошка никогда не допустит, чтобы ее увидели в нефотогеничной позе.","Как знает каждый владелец кошки, кошка не может иметь владельца.","Если бы кошки умели говорить, они бы все равно молчали.","Любить кошку можно только на ее собственных условиях."],o=["Кирилл Федоров","Кира Исаева","Виктория Карпова","Александра Уварова","Матвей Новиков","Алия Васильева","Алина Романова","Дарья Овчинникова","Михаил Тимофеев","Елизавета Поликарпова"],n=["Всё отлично!","В целом всё неплохо. Но не всё.","Когда вы делаете фотографию, хорошо бы убирать палец из кадра. В конце концов это просто непрофессионально.","Моя бабушка случайно чихнула с фотоаппаратом в руках и у неё получилась фотография лучше.","Я поскользнулся на банановой кожуре и уронил фотоаппарат на кота и у меня получилась фотография лучше.","Лица у людей на фотке перекошены, как будто их избивают. Как можно было поймать такой неудачный момент?!"];let r=[];const l=()=>{let t=[];for(let c=1;c<=e(1,5);c++)t.push({id:e(1,999),name:o[e(0,o.length)],avatar:`img/avatar-${e(1,6)}.svg`,message:n[e(0,n.length-1)]});return t};(()=>{for(let t=1;t<=25;t++)r.push({id:t,url:`photos/${t}.jpg`,description:c[e(0,c.length-1)],likes:e(14,200),comments:l()})})();const s=document.querySelector(".big-picture"),a=s.querySelector(".social__comments"),d=a.querySelector(".social__comment"),i=e=>{t(e)&&(e.preventDefault,u())},u=()=>{s.classList.add("hidden"),document.body.classList.remove("modal-open"),document.removeEventListener("keydown",i),a.innerHTML=""},m=document.querySelector("#picture").content.querySelector(".picture"),p=document.querySelector(".pictures"),v=document.createDocumentFragment();r.forEach((({id:e,url:t,likes:c,comments:o})=>{const n=m.cloneNode(!0);n.tabIndex="0",n.id=`photo-${e}-thumbnail`,n.querySelector(".picture__img").src=t,n.querySelector(".picture__likes").textContent=c,n.querySelector(".picture__comments").textContent=o.length,v.appendChild(n)})),p.appendChild(v),p.addEventListener("click",(e=>{const t=e.target.closest(".picture");t&&(e.preventDefault,(e=>{(e=>{const t=parseInt(e.id.match(/[0-9]+/g)),c=r.find((e=>e.id===t)),{url:o,description:n,likes:l,comments:i}=c;s.querySelector(".big-picture__img > img").src=o,s.querySelector(".social__caption").textContent=n,s.querySelector(".likes-count").textContent=l,s.querySelector(".comments-count").textContent=i.length;const u=document.createDocumentFragment();c.comments.forEach((({id:e,name:c,avatar:o,message:n})=>{const r=d.cloneNode(!0),l=r.querySelector(".social__picture");l.src=o,l.alt=c,r.id=`photo-${t}-${e}`,r.querySelector(".social__text").textContent=n,u.appendChild(r)})),a.appendChild(u)})(e),s.classList.remove("hidden"),document.body.classList.add("modal-open"),document.addEventListener("keydown",i),s.querySelector(".cancel").addEventListener("click",(()=>{u()}))})(t))}));const y=document.querySelector(".img-upload__scale"),_=y.querySelector(".scale__control--smaller"),g=y.querySelector(".scale__control--bigger"),L=y.querySelector(".scale__control--value");let h=0;const q=e=>{h=e,L.value=`${h}%`,N.style.transform=`scale(${h/100})`},S=e=>{let t=h+25*e;t>100||t<25||q(t)},k=()=>S(1),E=()=>S(-1),f=document.querySelector(".img-upload__form"),b=e=>{e.target.matches('input[name="effect"]')&&(N.className="",N.classList.add(`effects__preview--${e.target.value}`))},C=document.querySelector(".img-upload__overlay"),x=e=>{t(e)&&(e.preventDefault,$())},$=()=>{C.classList.add("hidden"),document.body.classList.remove("modal-open"),document.removeEventListener("keydown",x),g.removeEventListener("click",k),_.removeEventListener("click",E),N.className="",f.removeEventListener("change",b)},w=document.querySelector(".img-upload__form"),D=w.querySelector(".img-upload__input"),N=w.querySelector(".img-upload__preview > img");D.addEventListener("change",(()=>{N.addEventListener("load",(()=>{URL.revokeObjectURL(N.src)})),N.src=URL.createObjectURL(D.files[0]),q(100),g.addEventListener("click",k),_.addEventListener("click",E),f.addEventListener("change",b),C.classList.remove("hidden"),document.body.classList.add("modal-open"),document.addEventListener("keydown",x),C.querySelector(".cancel").addEventListener("click",(()=>{$()}))}))})();
//# sourceMappingURL=main.bundle.js.map